(this["webpackJsonptailor-app"]=this["webpackJsonptailor-app"]||[]).push([[0],{108:function(e,t,a){e.exports=a(135)},113:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),l=(a(113),a(27)),c=a(19),i=a(34),u=a(35),m=a(37),p=a(39),h=a(84),d=a.n(h),g=a(85),E=a.n(g),f=(a(116),a(87)),b=a(176),v=a(36),y=Object(f.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"},title:{position:"absolute",top:40}}})),w=E()(d.a),S=r.a.createElement(w,{play:!0,cancelOnInteraction:!1,interval:4e3},r.a.createElement("div",{"data-src":"/img/slider-1.jpeg"}),r.a.createElement("div",{"data-src":"/img/slider-2.jpeg"}),r.a.createElement("div",{"data-src":"/img/slider-3.jpeg"}));function O(e){var t=y();return r.a.createElement("div",{className:t.root},r.a.createElement(v.a,null,null===e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"contained",className:t.button,href:"/signup"},"Sign Up"),r.a.createElement(b.a,{variant:"contained",className:t.button,href:"/login"},"Log In")):r.a.createElement(b.a,{variant:"contained",className:t.button,href:"/",onClick:e.logout},"Log Out")),S)}var j=a(193),k=a(102);function x(e){e.styles;return r.a.createElement(k.a,null,r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"zipcode",placeholder:"Zip code"}),r.a.createElement("input",{type:"submit",value:"Submit"})))}var C=a(60),_=a(12),N=a(4),P=a(15),M=a(25),B=a(202),I=a(182),L=a(183),T=a(184),D=a(178),U=a(180),A=a(61),R=a(185),z=a(199),W=a(181),F=a(179),J=a(201),H=a(96),G=a.n(H),Z=a(100),$=a.n(Z),q=a(74),K=a.n(q),Q=a(58),V=a.n(Q),X=a(73),Y=a.n(X),ee=a(101),te=a.n(ee),ae=a(97),ne=a.n(ae),re=a(98),se=a.n(re),oe=a(138),le=a(187),ce=a(186),ie=a(99),ue=a.n(ie);function me(e){return r.a.createElement("div",null,console.log("user messages:",e.messages),r.a.createElement("h1",null," New Message "),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={receiver_id:5,title:t.target.title.value,body:t.target.body.value,message_date:"12-03-2019"};e.sendMessage(a)}},r.a.createElement("input",{type:"text",name:"title",placeholder:"Subject line..."}),r.a.createElement("input",{type:"text",name:"body",placeholder:"Write your message here..."}),r.a.createElement("input",{type:"submit",value:"Send message"})))}a(70);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(_.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:he({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(_.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(_.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(_.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(_.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(_.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ge(e){var t,a=de(),n=Object(M.a)(),s=r.a.useState(!1),o=Object(C.a)(s,2),l=o[0],c=o[1],i=r.a.useState(null),u=Object(C.a)(i,2),m=u[0],p=u[1],h=r.a.useState(null),d=Object(C.a)(h,2),g=d[0],E=d[1],f=Boolean(m),b=Boolean(g),y=function(e){console.log("profile icon hit"),p(e.currentTarget)},w=function(){E(null)},S=function(){p(null),w()},O="primary-search-account-menu",j=r.a.createElement(J.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:O,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:S},r.a.createElement(F.a,{onClick:S},"Profile"),r.a.createElement(F.a,{onClick:S},"My account")),k=r.a.createElement(J.a,{anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:w},r.a.createElement(F.a,null,r.a.createElement(U.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(W.a,{badgeContent:4,color:"secondary"},r.a.createElement(V.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(F.a,null,r.a.createElement(U.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(W.a,{badgeContent:11,color:"secondary"},r.a.createElement(Y.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(F.a,{onClick:y},r.a.createElement(U.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(K.a,null)),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:a.root},r.a.createElement(I.a,null),r.a.createElement(L.a,{position:"fixed",className:Object(N.a)(a.appBar,Object(_.a)({},a.appBarShift,l))},r.a.createElement(T.a,null,r.a.createElement(U.a,(t={color:"inherit",edge:"start",className:Object(N.a)(a.menuButton,l&&a.hide)},Object(_.a)(t,"color","inherit"),Object(_.a)(t,"aria-label","open drawer"),Object(_.a)(t,"onClick",(function(){c(!0)})),t),r.a.createElement(G.a,null)),r.a.createElement(A.a,{className:a.title,variant:"h6",noWrap:!0},"Welcome to Pin It!"),r.a.createElement(B.a,{className:a.drawer,variant:"persistent",anchor:"left",open:l,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(U.a,{onClick:function(){c(!1)}},"ltr"===n.direction?r.a.createElement(ne.a,null):r.a.createElement(se.a,null))),r.a.createElement(R.a,null),r.a.createElement(v.a,null,r.a.createElement(D.a,null,r.a.createElement(oe.a,{button:!0,key:"Book a service",onClick:function(){return e.xprops.history.push("/search")}},r.a.createElement(ce.a,{primary:"Book a service"})),r.a.createElement(oe.a,{button:!0,key:"Order History",onClick:function(){return e.xprops.history.push("/history")}},r.a.createElement(ce.a,{primary:"Order History"})),r.a.createElement(oe.a,{button:!0,key:"Inbox",onClick:function(){return e.xprops.history.push("/inbox")}},r.a.createElement(ce.a,{primary:"Inbox"}))),r.a.createElement(R.a,null),r.a.createElement(D.a,null,["Modify Services","Payments","Inbox"].map((function(e,t){return r.a.createElement(oe.a,{button:!0,key:e,component:v.b,to:"/".concat(e)},r.a.createElement(le.a,null,t%2===0?r.a.createElement(ue.a,null):r.a.createElement(V.a,null)),r.a.createElement(ce.a,{primary:e}))}))))),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement($.a,null)),r.a.createElement(z.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(U.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(W.a,{badgeContent:4,color:"secondary"},r.a.createElement(V.a,{onClick:function(){return e.xprops.history.push("/inbox")}}))),r.a.createElement(U.a,{"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(W.a,{badgeContent:17,color:"secondary"},r.a.createElement(Y.a,null))),r.a.createElement(U.a,{edge:"end","aria-label":"account of current user","aria-controls":O,"aria-haspopup":"true",onClick:y,color:"inherit"},r.a.createElement(K.a,null))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(U.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},color:"inherit"},r.a.createElement(te.a,null))))),k,j)}var Ee=a(188),fe=a(189),be=a(192),ve=a(191),ye=a(190),we={Paper:{padding:20,marginTop:50,marginBottom:10}};function Se(e){return r.a.createElement(k.a,{style:we.Paper},r.a.createElement("h1",null,"About ",e.specs.first_name),r.a.createElement("h3",null,e.specs.bio),r.a.createElement(b.a,null,"Book me!"))}var Oe=Object(f.a)({card:{maxWidth:345},media:{height:140}});function je(e){var t=Oe();return r.a.createElement(Ee.a,{className:t.card,onClick:function(t){console.log(e.tailor.id,t.target,e,"clicked"),e.showSpecs(e.tailor)}},r.a.createElement(fe.a,null,r.a.createElement(ye.a,{className:t.media,image:"https://salescurator.com/promo/preview_222421821.jpg",title:"Contemplative Reptile"}),r.a.createElement(ve.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.tailor.first_name," ",e.tailor.last_name),r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},e.tailor.email))),r.a.createElement(be.a,null,r.a.createElement(b.a,{size:"small",color:"primary"},"Share"),r.a.createElement(b.a,{size:"small",color:"primary"},"Learn More")))}function ke(e){return r.a.createElement(k.a,null,e.tailors.map((function(t){return r.a.createElement(je,{xprops:e.xprops,tailor:t,resetSpecs:e.resetSpecs,specs:e.specs,showSpecs:e.showSpecs})})))}var xe={Paper:{padding:20,marginTop:50,marginBottom:10}};function Ce(e){return e.success&&e.revert(),r.a.createElement(j.a,{container:!0,style:xe.Paper},r.a.createElement(j.a,{item:!0,sm:3},r.a.createElement(x,null)),r.a.createElement(j.a,{item:!0,sm:9},r.a.createElement(ke,{xprops:e.xprops,tailors:e.tailors,resetSpecs:e.resetSpecs,specs:e.specs,showSpecs:e.showSpecs})))}var _e=a(203),Ne=a(194),Pe=a(195),Me=a(196),Be=a(197),Ie=a(198),Le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,email:"",password:"",msg:null},a.onChange=function(e){a.setState(Object(_.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.getUser(n),a.props.success()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({children:e.children})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Log in"),this.state.msg?r.a.createElement(_e.a,{color:"danger"},this.state.msg):null,r.a.createElement(Ne.a,{onSubmit:this.onSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{for:"email"},"Email"),r.a.createElement(Be.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Me.a,{for:"password"},"Password"),r.a.createElement(Be.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Ie.a,{color:"dark",style:{marginTop:"2rem"},block:!0},r.a.createElement("a",{href:"/search"},"Log in")))))}}]),t}(n.Component),Te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,first_name:"",last_name:"",email:"",password:"",msg:null},a.onChange=function(e){a.setState(Object(_.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){console.log("Hits inside obSubmit of signup"),e.preventDefault();var t=a.state,n={first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password};a.props.newUser(n),a.props.xprops.history.push("/")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),this.state.msg?r.a.createElement(_e.a,{color:"danger"},this.state.msg):null,r.a.createElement(Ne.a,{onSubmit:this.onSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{for:"name"},"First Name"),r.a.createElement(Be.a,{type:"text",name:"first_name",id:"first_name",placeholder:"First Name",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Me.a,{for:"name"},"Last Name"),r.a.createElement(Be.a,{type:"text",name:"last_name",id:"last_name",placeholder:"Last Name",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Me.a,{for:"email"},"Email"),r.a.createElement(Be.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Me.a,{for:"password"},"Password"),r.a.createElement(Be.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(Ie.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Register"))))}}]),t}(n.Component),De=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("inside display search",this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{xprops:this.props.xprops,user:this.props.user}),r.a.createElement(Ce,{xprops:this.props.xprops,tailors:this.props.tailors,success:this.props.success,revert:this.props.revert,resetSpecs:this.props.resetSpecs,specs:this.props.specs,showSpecs:this.props.showSpecs}))}}]),t}(n.Component);function Ue(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{xprops:e.xprops}),r.a.createElement(Se,{resetSpecs:e.resetSpecs,specs:e.specs,showSpecs:e.showSpecs}))}function Ae(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{xprops:e.xprops}),r.a.createElement(me,{sendMessage:e.sendMessage,user:e.user,messages:e.messages}))}var Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,user_id:null,token:null,error:null,tailors:[],success:!1,page:"Welcome",specs:null,messages:null},a.abortController=new AbortController,a.newUser=function(e){var t=e.first_name,a=e.last_name,n=e.email,r=e.password;fetch("/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:t,last_name:a,email:n,password:r})}).then((function(e){return e.json()})).then((function(e){return console.log("data",e)}))},a.getUser=function(e){var t=e.email,n=e.password;return fetch("/api/v1/login",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(e){console.log("res?: ",e);var t=e.token,n=parseInt(e.user_id);localStorage.token=t,localStorage.user_id=n,fetch("/api/v1/users/".concat(e.user_id),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:t}}).then((function(e){return e.json()})).then((function(e){console.log(e,"userrrrr"),localStorage.setItem("user",JSON.stringify(e)),a.setState({user:e,user_id:n,token:t})}))}))},a.logout=function(){console.log("logged out"),localStorage.token=null,localStorage.user_id=null,localStorage.user=null,a.setState({token:null,user_id:"",user:null,error:null})},a.successLogin=function(){a.setState({success:!0})},a.revertSuccess=function(){a.setState({success:!1})},a.getMessages=function(e){fetch("/api/v1/messages").then((function(e){return e.json()})).then((function(t){console.log("messages",t),console.log("user",e),console.log("user_id",a.state.user_id);var n=t.filter((function(e){return e.receiver_id===a.state.user_id}));console.log("user messages in app",n),a.setState({messages:n})}))},a.sendMessage=function(e){console.log("message?",e);var t=a.state.user_id,n=e.receiver_id,r=e.title,s=e.body,o=e.message_date;fetch("/api/v1/messages",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({sender_id:t,receiver_id:n,title:r,body:s,message_date:o})}).then((function(e){return e.json()})).then((function(e){return console.log(e,"res")}))},a.showSpecs=function(e){a.setState({specs:e})},a.resetSpecs=function(){a.setState({specs:null})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));localStorage.token&&(this.setState({token:localStorage.token,user_id:localStorage.user_id,user:t}),fetch("/api/v1/users").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return!0===e.tailor}));e.setState({tailors:a})})),this.getMessages(this.state.user))}},{key:"render",value:function(){var e=this;return console.log("user in state?",this.state.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(O,{logout:e.logout,user:e.state.user})}}),r.a.createElement(p.b,{path:"/search",render:function(t){return r.a.createElement(De,{xprops:t,user:e.state.user,tailors:e.state.tailors,success:e.state.success,revert:e.revertSuccess,resetSpecs:e.resetSpecs,specs:e.state.specs,showSpecs:e.showSpecs})}}),r.a.createElement(p.b,{path:"/login",render:function(t){return r.a.createElement(Le,{getUser:e.getUser,success:e.successLogin})}}),r.a.createElement(p.b,{path:"/signup",render:function(t){return r.a.createElement(Te,{xprops:t,newUser:e.newUser})}}),r.a.createElement(p.b,{path:"/inbox",render:function(t){return r.a.createElement(Ae,{xprops:t,user:e.state.user,messages:e.state.messages,sendMessage:e.sendMessage})}}),r.a.createElement(p.b,{path:"/tailor",render:function(t){return r.a.createElement(Ue,{xprops:t,resetSpecs:e.resetSpecs,specs:e.state.specs,showSpecs:e.showSpecs})}})),this.state.success?r.a.createElement(p.a,{to:"/search"}):null,this.state.specs?r.a.createElement(p.a,{to:"tailor"}):null)}}]),t}(n.Component),ze=Object(p.g)(Re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v.a,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.6496869b.chunk.js.map